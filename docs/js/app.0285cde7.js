(function(){"use strict";var t={7325:function(t,e,i){var n=i(3751),s=i(641);const o={class:"main"};function r(t,e,i,n,r,a){const l=(0,s.g2)("vue-file-toolbar-menu"),c=(0,s.g2)("vue-document-editor");return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.bF)(l,{content:a.menu,class:"bar"},null,8,["content"]),(0,s.bF)(c,{class:"editor",ref:"editor",content:a.content,"onUpdate:content":e[0]||(e[0]=t=>a.content=t),overlay:a.overlay,zoom:r.zoom,page_format_mm:r.page_format_mm,page_margins:r.page_margins,display:r.display},null,8,["content","overlay","zoom","page_format_mm","page_margins","display"])])}i(8111),i(116),i(1701),i(3579);var a=i(9499),l=i(33);const c={class:"editor",ref:"editor"},d={key:0,class:"overlays",ref:"overlays"},h=["innerHTML"],m=["contenteditable"];function u(t,e,i,n,o,r){return(0,s.uX)(),(0,s.CE)("div",c,[i.overlay?((0,s.uX)(),(0,s.CE)("div",d,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.pages,(t,e)=>((0,s.uX)(),(0,s.CE)("div",{class:"overlay",key:t.uuid+"-overlay",ref_for:!0,ref:e=>o.pages_overlay_refs[t.uuid]=e,innerHTML:i.overlay(e+1,o.pages.length),style:(0,l.Tr)(r.page_style(e,!1))},null,12,h))),128))],512)):(0,s.Q3)("",!0),(0,s.Lk)("div",{class:"content",ref:"content",contenteditable:i.editable,style:(0,l.Tr)(r.page_style(-1)),onInput:e[0]||(e[0]=(...t)=>r.input&&r.input(...t)),onKeyup:e[1]||(e[1]=(...t)=>r.process_current_text_style&&r.process_current_text_style(...t))},null,44,m)],512)}i(4114),i(2489);function p(t,e){if(!t||!e)return!1;const i=t.childNodes;for(let n=0;n<i.length;n++)if(i[n].s_tag==e)return i[n];return!1}function _(t,e,i,n,s){while(t.childNodes.length&&!i()){s=s||1!=t.childNodes.length;const o=t.lastChild;if(o.nodeType==Node.TEXT_NODE){const t=o.textContent;if(t.length>0){let n=t.match(/(\s|\S+)/g);if(!n||1===n.length){console.log("Handling long continuous word");o.textContent=t.slice(0,t.length-1);const n=document.createTextNode(t.slice(-1));if(e.prepend(n),i())return;continue}const r=document.createTextNode("");e.prepend(r);const a=n?n.length:0;for(let t=0;t<a;t++){if(t==a-1&&!s)return;if(o.textContent=n.slice(0,a-t-1).join(""),r.textContent=n.slice(a-t-1).join(""),i())return}}}else if(!o.childNodes.length||o.tagName.match(/h\d|tr/i)||"function"===typeof n&&n(o)){if(!s)return void console.log("Move-forward: first child reached with no stop condition. Aborting");e.prepend(o)}else{let t=p(e,o.s_tag);if(!t){if(!o.s_tag){const t=Math.random().toString(36).slice(2,8);o.s_tag=t}t=o.cloneNode(!1),t.s_tag=o.s_tag,e.prepend(t)}_(o,t,i,n,s),t.normalize()}if(t.contains(o))if(0==o.childNodes.length||""==o.innerHTML)t.removeChild(o);else if(!i())throw console.error("Document editor is trying to remove a non-empty sub-child:",o,"in parent:",t),Error("Document editor is trying to remove a non-empty sub-child. This is a bug and should not happen. Please report a repeatable set of actions that leaded to this error to https://github.com/motla/vue-document-editor/issues/new")}}function g(t,e,i){while(!i()){const i=e.firstChild;if(!i)break;var n=(t,e)=>{if(e){const i=p(t,e.s_tag);i&&e.childNodes.length?n(i,e.firstChild):(t.append(e),t.normalize())}};n(t,i)}}var f={props:{content:{type:Array,required:!0},display:{type:String,default:"grid"},editable:{type:Boolean,default:!0},overlay:Function,page_format_mm:{type:Array,default:()=>[210,297]},page_margins:{type:Array,default:()=>[0,0,8,0]},zoom:{type:Number,default:1},do_not_break:Function},data(){return{pages:[],pages_overlay_refs:{},pages_height:0,editor_width:0,prevent_next_content_update_from_parent:!1,current_text_style:!1,printing_mode:!1,px_in_mm:.18421052631578946}},mounted(){this.update_editor_width(),this.update_css_media_style(),this.reset_content(),window.addEventListener("resize",this.update_editor_width),window.addEventListener("click",this.process_current_text_style),window.addEventListener("beforeprint",this.before_print),window.addEventListener("afterprint",this.after_print)},beforeUpdate(){this.pages_overlay_refs=[]},beforeUnmount(){window.removeEventListener("resize",this.update_editor_width),window.removeEventListener("click",this.process_current_text_style),window.removeEventListener("beforeprint",this.before_print),window.removeEventListener("afterprint",this.after_print)},computed:{css_media_style(){const t=document.createElement("style");return document.head.appendChild(t),t}},methods:{new_uuid:()=>Math.random().toString(36).slice(-5),reset_content(){if(this.reset_in_progress)return;if(this.reset_in_progress=!0,!this.content.length)return this.reset_in_progress=!1,void this.$emit("update:content",[""]);this.pages=this.content.map((t,e)=>({uuid:this.new_uuid(),content_idx:e,template:t.template,props:t.props})),this.update_pages_elts();const t=this.pages[0].elt;this.$refs.content.contains(t)||this.$refs.content.appendChild(t),this.pages_height=t.clientHeight+1;for(const e of this.pages){if(this.content[e.content_idx]){if("string"==typeof this.content[e.content_idx])e.elt.innerHTML="<div>"+this.content[e.content_idx]+"</div>";else if(e.template){const t=(0,n.Xq)(e.template);customElements.define("component-"+e.uuid,t),e.elt.appendChild(new t({modelValue:e.props}))}}else e.elt.innerHTML="<div><br></div>";this.$refs.content.contains(e.elt)||this.$refs.content.appendChild(e.elt)}this.fit_content_over_pages(),this.$refs.content.blur(),this.reset_in_progress=!1},fit_content_over_pages(){if(!this.pages_height)return;if(this.fit_in_progress)return;this.fit_in_progress=!0;for(let s=this.pages.length-1;s>=0;s--){const t=this.pages[s];t.elt&&document.body.contains(t.elt)||this.pages.splice(s,1)}if(!this.pages.length)return this.fit_in_progress=!1,void this.$emit("update:content",[""]);const t=window.getSelection(),e=document.createElement("null"),i=document.createElement("null");if(t&&t.rangeCount&&t.anchorNode&&(!t.anchorNode.dataset||null==t.anchorNode.dataset.isVDEPage)){const n=t.getRangeAt(0);n.insertNode(e),n.collapse(!1),n.insertNode(i)}let n=!1;for(let s=0;s<this.pages.length;s++){const t=this.pages[s];let e=this.pages[s+1],i=e?e.elt:null;!t.template&&(n||t.elt.innerHTML!=t.prev_innerHTML||i&&!e.template&&i.innerHTML!=e.prev_innerHTML)&&(n=!0,t.elt.clientHeight<=this.pages_height&&e&&e.content_idx==t.content_idx&&g(t.elt,i,()=>!i.childNodes.length||t.elt.clientHeight>this.pages_height),t.elt.clientHeight>this.pages_height&&(e&&e.content_idx==t.content_idx||(e={uuid:this.new_uuid(),content_idx:t.content_idx},this.pages.splice(s+1,0,e),this.update_pages_elts(),i=e.elt),_(t.elt,i,()=>t.elt.clientHeight<=this.pages_height,this.do_not_break)),i&&e.content_idx==t.content_idx&&!i.childNodes.length&&this.pages.splice(s+1,1)),this.update_pages_elts()}for(const s of this.pages)s.template||s.elt.normalize();if(document.body.contains(e)){const n=document.createRange();n.setStart(e,0),document.body.contains(i)&&n.setEnd(i,0),t.removeAllRanges(),t.addRange(n)}e.parentElement&&e.parentElement.removeChild(e),i.parentElement&&i.parentElement.removeChild(i);for(const s of this.pages)s.prev_innerHTML=s.elt.innerHTML;this.fit_in_progress=!1},input(t){t&&(this.fit_content_over_pages(),this.emit_new_content(),"insertText"!=t.inputType&&this.process_current_text_style())},emit_new_content(){let t=!1;const e=this.content.map((e,i)=>{const n=this.pages.filter(t=>t.content_idx==i);return n.length?"string"==typeof e?n.map(t=>{let e=t.elt;while(1==e.children.length&&e.firstChild.tagName&&"div"==e.firstChild.tagName.toLowerCase()&&!e.firstChild.getAttribute("style"))e=e.firstChild;return"<br>"==e.innerHTML||"\x3c!----\x3e"==e.innerHTML?"":e.innerHTML}).join(""):{template:e.template,props:{...e.props}}:(t=!0,!1)}).filter(t=>!1!==t);t||(this.prevent_next_content_update_from_parent=!0),this.$emit("update:content",e)},process_current_text_style(){let t=!1;const e=window.getSelection();if(e.focusNode){const i=e.focusNode.tagName?e.focusNode:e.focusNode.parentElement;if(i&&i.isContentEditable){t=window.getComputedStyle(i),t.textDecorationStack=[],t.headerLevel=0,t.isList=!1;let e=i;while(e){const i=window.getComputedStyle(e);if(t.textDecorationStack.push(i.textDecoration),"list-item"==i.display&&(t.isList=!0),!t.headerLevel)for(let n=1;n<=6;n++)if(e.tagName.toUpperCase()=="H"+n){t.headerLevel=n;break}e=e.parentElement}}}this.current_text_style=t},page_style(t,e){const i=this.page_format_mm[0]/this.px_in_mm,n=this.page_format_mm[1]/this.px_in_mm,s=45,o=(s+i)*this.zoom,r=20,a=this.editor_width-2*r;let l,c,d,h,m,u,p,_=1;if("horizontal"==this.display)a>this.pages.length*o?(_=Math.floor(a/o),h=a/(2*_)*(1+2*t)-i/2):(_=this.pages.length,h=o*t+i/2*(this.zoom-1)),m=0,u=this.zoom*(i*_+(_-1)*s),p=n*this.zoom;else{_=Math.floor(a/o),(_<1||"vertical"==this.display)&&(_=1),l=t%_,c=a/(2*_)*(1+2*l)-i/2,d=Math.max(0,(i*this.zoom-a)/2),h=c+d,m=(n+s)*this.zoom*Math.floor(t/_);const e=Math.ceil(this.pages.length/_);u=this.zoom*(i*_+(_-1)*s),p=this.zoom*(n*e+(e-1)*s)}if(t>=0){const t={position:"absolute",left:"calc("+h+"px + "+r+"px)",top:"calc("+m+"px + "+r+"px)",width:i+"px",padding:this.page_margins[0]/this.px_in_mm+"px "+this.page_margins[1]/this.px_in_mm+"px "+this.page_margins[2]/this.px_in_mm+"px "+this.page_margins[3]/this.px_in_mm+"px",transform:"scale("+this.zoom+")"};return t[e?"minHeight":"height"]=n+"px",t}return{width:"calc("+u+"px + "+2*r+"px)",height:"calc("+p+"px + "+2*r+"px)"}},css_to_string:t=>Object.entries(t).map(([t,e])=>t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())+":"+e).join(";"),update_pages_elts(){const t=[...this.$refs.content.children].filter(t=>!this.pages.find(e=>e.elt==t));for(const e of t)e.remove();for(const[e,i]of this.pages.entries()){if(!i.elt){i.elt=document.createElement("div"),i.elt.className="page",i.elt.dataset.isVDEPage="";const t=this.pages[e+1];this.$refs.content.insertBefore(i.elt,t?t.elt:null)}i.elt.dataset.contentIdx=i.content_idx,this.printing_mode||(i.elt.style=Object.entries(this.page_style(e,!i.template)).map(([t,e])=>t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())+":"+e).join(";")),i.elt.contentEditable=!(!this.editable||i.template)}},update_editor_width(){this.$refs.editor.classList.add("hide_children"),this.editor_width=this.$refs.editor.clientWidth,this.update_pages_elts(),this.$refs.editor.classList.remove("hide_children")},update_css_media_style(){this.css_media_style.innerHTML="@media print { @page { size: "+this.page_format_mm[0]+"mm "+this.page_format_mm[1]+"mm; margin: 0 !important; } .hidden-print { display: none !important; } }"},before_print(){this.printing_mode=!0,this._page_body=document.body;const t=document.createElement("body");t.style.margin="0",t.style.padding="0",t.style.background="white",t.style.font=window.getComputedStyle(this.$refs.editor).font,t.className=this.$refs.editor.className;for(const[i,n]of this.pages.entries()){n.elt.style="",n.elt.style.position="relative",n.elt.style.padding=this.page_margins[0]/this.px_in_mm+"px "+this.page_margins[1]/this.px_in_mm+"px "+this.page_margins[2]/this.px_in_mm+"px "+this.page_margins[3]/this.px_in_mm+"px",n.elt.style.breakBefore=i?"page":"auto",n.elt.style.width="calc("+this.page_format_mm[0]/this.px_in_mm+"px - 2px)",n.elt.style.height="calc("+this.page_format_mm[1]/this.px_in_mm+"px - 2px)",n.elt.style.boxSizing="border-box",n.elt.style.overflow="hidden";const e=this.pages_overlay_refs[n.uuid];e&&(e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.transform="none",e.style.padding="0",e.style.overflow="hidden",n.elt.prepend(e)),t.append(n.elt)}const e=document.createElement("div");e.className="hidden-print",e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.right="0",e.style.bottom="0",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.background="rgba(255, 255, 255, 0.95)",e.style.cursor="pointer",e.innerHTML='<svg width="220" height="220"><path fill="rgba(0, 0, 0, 0.7)" d="M120.774,179.271v40c47.303,0,85.784-38.482,85.784-85.785c0-47.3-38.481-85.782-85.784-85.782H89.282L108.7,28.286L80.417,0L12.713,67.703l67.703,67.701l28.283-28.284L89.282,87.703h31.492c25.246,0,45.784,20.538,45.784,45.783C166.558,158.73,146.02,179.271,120.774,179.271z"/></svg>',e.addEventListener("click",this.after_print),t.append(e),document.body=t},after_print(){this.printing_mode=!1;for(const[t,e]of this.pages.entries()){e.elt.style=this.css_to_string(this.page_style(t,!e.template)),this.$refs.content.append(e.elt);const i=this.pages_overlay_refs[e.uuid];i&&(i.style=this.css_to_string(this.page_style(t,!1)),this.$refs.overlays.append(i))}document.body=this._page_body,this.update_editor_width()}},watch:{content:{handler(){this.prevent_next_content_update_from_parent?this.prevent_next_content_update_from_parent=!1:this.reset_content()},deep:!0},display:{handler(){this.update_pages_elts()}},page_format_mm:{handler(){this.update_css_media_style(),this.reset_content()}},page_margins:{handler(){this.reset_content()}},zoom:{handler(){this.update_pages_elts()}}}},y=i(6262);const v=(0,y.A)(f,[["render",u],["__scopeId","data-v-4cdc745e"]]);var x=v;function b(){let t="<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non risus. Suspendisse lectus tortor, dignissim sit amet, adipiscing nec, ultricies sed, dolor. Cras elementum ultrices diam. Maecenas ligula massa, varius a, semper congue, euismod non, mi. Proin porttitor, orci nec nonummy molestie, enim est eleifend mi, non fermentum diam nisl sit amet erat. Duis semper. Duis arcu massa, scelerisque vitae, consequat in, pretium a, enim. Pellentesque congue. Ut in risus volutpat libero pharetra tempor. Cras vestibulum bibendum augue. Praesent egestas leo in pede. Praesent blandit odio eu enim. Pellentesque sed dui ut augue blandit sodales. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aliquam nibh. Mauris ac mauris sed pede pellentesque fermentum. Maecenas adipiscing ante non diam sodales hendrerit.</p>";return['<h1>A. Two Columns CSS Auto Height</h1>\n      <div class="css-two-columns">\n       '+t.repeat(20)+"\n      </div>","<h1>B. Two Columns CSS Defined Height</h1>\n      <h2>B1. This is One column</h2>\n      <div>\n        "+t.repeat(4)+'\n      </div>\n      <h2>B2. This is Three columns</h2>\n      <div class="css-two-columns" min-height="300px">\n        '+t.repeat(2)+"\n      </div>\n      <h2>B3. This is One column</h2>\n      <div>\n        "+t.repeat(4)+"\n      </div>\n      \n      "]}var w={components:{VueDocumentEditor:x,VueFileToolbarMenu:a.A},data(){return{zoom:.8,zoom_min:.1,zoom_max:5,page_format_mm:[210,297],page_margins:[10,15,10,15],display:"grid",mounted:!1,undo_count:-1,content_history:[]}},created(){let t=!1,e=!1,i=!1;window.addEventListener("wheel",t=>{t.ctrlKey&&(t.preventDefault(),this.zoom=Math.min(Math.max(this.zoom-.01*t.deltaY,this.zoom_min),this.zoom_max))},{passive:!1}),window.addEventListener("gesturestart",e=>{e.preventDefault(),t=this.zoom}),window.addEventListener("gesturechange",e=>{e.preventDefault(),i||(this.zoom=Math.min(Math.max(t*e.scale,this.zoom_min),this.zoom_max))}),window.addEventListener("gestureend",()=>{t=!1}),window.addEventListener("touchstart",t=>{2==t.touches.length&&(t.preventDefault(),e=Math.hypot(t.touches[0].pageX-t.touches[1].pageX,t.touches[0].pageY-t.touches[1].pageY),i=this.zoom)},{passive:!1}),window.addEventListener("touchmove",t=>{if(e&&i){t.preventDefault();let n=i*Math.hypot(t.touches[0].pageX-t.touches[1].pageX,t.touches[0].pageY-t.touches[1].pageY)/e;this.zoom=Math.min(Math.max(n,this.zoom_min),this.zoom_max)}},{passive:!1}),window.addEventListener("touchend",()=>{e=!1,i=!1},{passive:!1});const n=t=>{switch(t&&t.inputType){case"historyUndo":t.preventDefault(),t.stopPropagation(),this.undo();break;case"historyRedo":t.preventDefault(),t.stopPropagation(),this.redo();break}};window.addEventListener("beforeinput",n),window.addEventListener("input",n)},mounted(){this.mounted=!0},computed:{menu(){return[{text:"New",title:"New",icon:"description",click:()=>{confirm("This will create an empty document. Are you sure?")&&(this.content=[""],this.resetContentHistory())}},{text:"Print",title:"Print",icon:"print",click:()=>window.print()},{is:"spacer"},{title:"Undo",icon:"undo",disabled:!this.can_undo,hotkey:this.isMacLike?"command+z":"ctrl+z",click:()=>this.undo()},{title:"Redo",icon:"redo",disabled:!this.can_redo,hotkey:this.isMacLike?"shift+command+z":"ctrl+y",click:()=>this.redo()},{is:"spacer"},{icon:"format_align_left",title:"Align left",active:this.isLeftAligned,disabled:!this.current_text_style,hotkey:this.isMacLike?"shift+command+l":"ctrl+shift+l",click:()=>document.execCommand("justifyLeft")},{icon:"format_align_center",title:"Align center",active:this.isCentered,disabled:!this.current_text_style,hotkey:this.isMacLike?"shift+command+e":"ctrl+shift+e",click:()=>document.execCommand("justifyCenter")},{icon:"format_align_right",title:"Align right",active:this.isRightAligned,disabled:!this.current_text_style,hotkey:this.isMacLike?"shift+command+r":"ctrl+shift+r",click:()=>document.execCommand("justifyRight")},{icon:"format_align_justify",title:"Justify content",active:this.isJustified,disabled:!this.current_text_style,hotkey:this.isMacLike?"shift+command+j":"ctrl+shift+j",click:()=>document.execCommand("justifyFull")},{is:"separator"},{icon:"format_bold",title:"Bold",active:this.isBold,disabled:!this.current_text_style,hotkey:this.isMacLike?"command+b":"ctrl+b",click:()=>document.execCommand("bold")},{icon:"format_italic",title:"Italic",active:this.isItalic,disabled:!this.current_text_style,hotkey:this.isMacLike?"command+i":"ctrl+i",click:()=>document.execCommand("italic")},{icon:"format_underline",title:"Underline",active:this.isUnderline,disabled:!this.current_text_style,hotkey:this.isMacLike?"command+u":"ctrl+u",click:()=>document.execCommand("underline")},{icon:"format_strikethrough",title:"Strike through",active:this.isStrikeThrough,disabled:!this.current_text_style,click:()=>document.execCommand("strikethrough")},{is:"button-color",type:"compact",menu_class:"align-center",disabled:!this.current_text_style,color:this.curColor,update_color:t=>document.execCommand("foreColor",!1,t.hex8)},{is:"separator"},{icon:"format_list_numbered",title:"Numbered list",active:this.isNumberedList,disabled:!this.current_text_style,click:()=>document.execCommand("insertOrderedList")},{icon:"format_list_bulleted",title:"Bulleted list",active:this.isBulletedList,disabled:!this.current_text_style,click:()=>document.execCommand("insertUnorderedList")},{html:"<b>H1</b>",title:"Header 1",active:this.isH1,disabled:!this.current_text_style,click:()=>document.execCommand("formatBlock",!1,"<h1>")},{html:"<b>H2</b>",title:"Header 2",active:this.isH2,disabled:!this.current_text_style,click:()=>document.execCommand("formatBlock",!1,"<h2>")},{html:"<b>H3</b>",title:"Header 3",active:this.isH3,disabled:!this.current_text_style,click:()=>document.execCommand("formatBlock",!1,"<h3>")},{icon:"format_clear",title:"Clear format",disabled:!this.current_text_style,click(){document.execCommand("removeFormat"),document.execCommand("formatBlock",!1,"<div>")}},{icon:"splitscreen",title:"Page break",disabled:!this.current_text_style,click:()=>this.insertPageBreak()},{is:"spacer"},{text:this.current_format_name,title:"Format",icon:"crop_free",chevron:!0,menu:this.formats.map(([t,e,i])=>({text:t,active:this.page_format_mm[0]==e&&this.page_format_mm[1]==i,click:()=>{this.page_format_mm=[e,i]}})),menu_width:80,menu_height:280},{text:this.current_margins_name,title:"Margins",icon:"select_all",chevron:!0,menu:this.margins.map(([t,e])=>({text:t+" ("+e+")",active:this.page_margins==e,click:()=>{this.page_margins=e}})),menu_width:200,menu_class:"align-center"},{text:Math.floor(100*this.zoom)+"%",title:"Zoom",icon:"zoom_in",chevron:!0,menu:[["200%",2],["150%",1.5],["125%",1.25],["100%",1],["75%",.75],["50%",.5],["25%",.25]].map(([t,e])=>({text:t,active:this.zoom==e,click:()=>{this.zoom=e}})),menu_width:80,menu_height:280,menu_class:"align-center"},{title:"Display",icon:"horizontal"==this.display?"view_column":"vertical"==this.display?"view_stream":"view_module",chevron:!0,menu:[{icon:"view_module",active:"grid"==this.display,click:()=>{this.display="grid"}},{icon:"view_column",active:"horizontal"==this.display,click:()=>{this.display="horizontal"}},{icon:"view_stream",active:"vertical"==this.display,click:()=>{this.display="vertical"}}],menu_width:55,menu_class:"align-right"}]},content(){return b()},current_format_name(){const t=this.formats.find(([,t,e])=>this.page_format_mm[0]==t&&this.page_format_mm[1]==e);return t?t[0]:this.page_format_mm[0]+"mm x "+this.page_format_mm[1]+"mm"},formats:()=>[["A0",841,1189],["A0L",1189,841],["A1",594,841],["A1L",841,594],["A2",420,594],["A2L",594,420],["A3",297,420],["A3L",420,297],["A4",210,297],["A4L",297,210],["A5",148,210],["A5L",210,148],["A6",105,148],["A6L",148,105]],current_margins_name(){const t=this.margins.find(([,t])=>this.page_margins==t);return t?t[0]:this.page_margins},margins:()=>[["Medium","20mm"],["Small","15mm"],["Slim","10mm 15mm"],["Tiny","5mm"]],current_text_style(){return!!this.mounted&&this.$refs.editor.current_text_style},isLeftAligned(){return["start","left","-moz-left"].includes(this.current_text_style.textAlign)},isRightAligned(){return["end","right","-moz-right"].includes(this.current_text_style.textAlign)},isCentered(){return["center","-moz-center"].includes(this.current_text_style.textAlign)},isJustified(){return["justify","justify-all"].includes(this.current_text_style.textAlign)},isBold(){const t=this.current_text_style.fontWeight;return t&&(parseInt(t)>400||0==t.indexOf("bold"))},isItalic(){return"italic"==this.current_text_style.fontStyle},isUnderline(){const t=this.current_text_style.textDecorationStack;return t&&t.some(t=>0==t.indexOf("underline"))},isStrikeThrough(){const t=this.current_text_style.textDecorationStack;return t&&t.some(t=>0==t.indexOf("line-through"))},isNumberedList(){return this.current_text_style.isList&&"decimal"==this.current_text_style.listStyleType},isBulletedList(){return this.current_text_style.isList&&["disc","circle"].includes(this.current_text_style.listStyleType)},isH1(){return 1==this.current_text_style.headerLevel},isH2(){return 2==this.current_text_style.headerLevel},isH3(){return 3==this.current_text_style.headerLevel},curColor(){return this.current_text_style.color||"transparent"},isMacLike:()=>/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),can_undo(){return this.undo_count>0},can_redo(){return this.content_history.length-this.undo_count-1>0}},methods:{overlay(t,e){let i='<div style="position: absolute; bottom: 8mm; '+(t%2?"right":"left")+': 10mm">Page '+t+" of "+e+"</div>";return t>=0&&(i+='<div style="position: absolute; left: 0; top: 0; right: 0; padding: 3mm 5mm; background: rgba(200, 220, 240, 0.5)"><strong>MYCOMPANY</strong> example.com /// This is a custom header overlay</div>',i+='<div style="position: absolute; left: 10mm; right: 10mm; bottom: 5mm; text-align:center; font-size:10pt">MY COMPANY - example.com /// This is a custom footer overlay</div>'),i},undo(){this.can_undo&&(this._mute_next_content_watcher=!0,this.content=this.content_history[--this.undo_count])},redo(){this.can_redo&&(this._mute_next_content_watcher=!0,this.content=this.content_history[++this.undo_count])},resetContentHistory(){this.content_history=[],this.undo_count=-1},async insertPageBreak(){document.execCommand("insertParagraph");const t="###PB###";document.execCommand("insertText",!1,t),await this.$nextTick(),await this.$nextTick();const e=new RegExp("<(p|div|h\\d)( [^/>]+)*>(<[^/>]+>)*"+t);for(let i=0;i<this.content.length;i++){const n=this.content[i];if("string"!=typeof n)continue;const s=e.exec(n);if(s){const e=s[0].slice(0,-t.length);let o=n.substr(s.index+s[0].length);return 0==o.indexOf("</")&&(o="<br>"+o),void this.content.splice(i,1,n.substr(0,s.index),e+o)}}for(let i=0;i<this.content.length;i++){const e=this.content[i];if(!("string"!=typeof e||e.indexOf(t)<0)){this.content.splice(i,1,e.replace(t,""));break}}}},watch:{content:{immediate:!0,handler(t){this._mute_next_content_watcher||(this.content_history[++this.undo_count]=t,this.content_history.length=this.undo_count+1),this._mute_next_content_watcher=!1}}}};const k=(0,y.A)(w,[["render",r],["__scopeId","data-v-cfbc8878"]]);var L=k;const C=(0,n.Ef)(L);C.config.devtools=!0,C.mount("#app")}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.m=t,function(){var t=[];i.O=function(e,n,s,o){if(!n){var r=1/0;for(d=0;d<t.length;d++){n=t[d][0],s=t[d][1],o=t[d][2];for(var a=!0,l=0;l<n.length;l++)(!1&o||r>=o)&&Object.keys(i.O).every(function(t){return i.O[t](n[l])})?n.splice(l--,1):(a=!1,o<r&&(r=o));if(a){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[n,s,o]}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,o,r=n[0],a=n[1],l=n[2],c=0;if(r.some(function(e){return 0!==t[e]})){for(s in a)i.o(a,s)&&(i.m[s]=a[s]);if(l)var d=l(i)}for(e&&e(n);c<r.length;c++)o=r[c],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(d)},n=self["webpackChunkvue_document_editor"]=self["webpackChunkvue_document_editor"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[504],function(){return i(7325)});n=i.O(n)})();
//# sourceMappingURL=app.0285cde7.js.map